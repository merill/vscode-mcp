<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- Primary Meta Tags -->
    <title>VS Code MCP Install Button Generator | Create Install Links for Model Context Protocol Servers</title>
    <meta name="title" content="VS Code MCP Install Button Generator | Create Install Links for Model Context Protocol Servers">
    <meta name="description" content="Free online tool to generate beautiful one-click VS Code install buttons and links for Model Context Protocol (MCP) servers. Create custom badges, configure stdio/http connections, and build professional install buttons for your MCP projects.">
    <meta name="keywords" content="VS Code MCP, Model Context Protocol, MCP install button, VS Code extension install, MCP server generator, VS Code button creator, MCP link builder, install badge generator, VS Code MCP setup, Model Context Protocol tools">
    <meta name="author" content="Merill Fernando">
    <meta name="robots" content="index, follow">
    <meta name="language" content="English">
    <meta name="revisit-after" content="7 days">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://vscodemcp.com/">
    <meta property="og:title" content="VS Code MCP Install Button Generator | Create Install Links for Model Context Protocol Servers">
    <meta property="og:description" content="Free online tool to generate beautiful VS Code install buttons and links for Model Context Protocol (MCP) servers. Create custom badges, configure stdio/http connections, and build professional install buttons for your MCP projects.">
    <meta property="og:image" content="https://vscodemcp.com/og-image.png">
    <meta property="og:site_name" content="VS Code MCP Tools">
    
    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://vscodemcp.com/">
    <meta property="twitter:title" content="VS Code MCP Install Button Generator | Create Install Links for Model Context Protocol Servers">
    <meta property="twitter:description" content="Free online tool to generate beautiful VS Code install buttons and links for Model Context Protocol (MCP) servers. Create custom badges, configure stdio/http connections, and build professional install buttons for your MCP projects.">
    <meta property="twitter:image" content="https://vscodemcp.com/og-image.png">
    <meta property="twitter:creator" content="@merill">
    
    <!-- Additional SEO Meta Tags -->
    <meta name="theme-color" content="#667eea">
    <meta name="msapplication-TileColor" content="#667eea">
    <meta name="application-name" content="VS Code MCP Tools">
    <meta name="apple-mobile-web-app-title" content="VS Code MCP Tools">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    
    <!-- Canonical URL -->
    <link rel="canonical" href="https://vscodemcp.com/">
    
    <!-- Favicon and Icons -->
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3e%3cdefs%3e%3clinearGradient id='grad' x1='0%25' y1='0%25' x2='100%25' y2='100%25'%3e%3cstop offset='0%25' style='stop-color:%23667eea'/%3e%3cstop offset='100%25' style='stop-color:%23764ba2'/%3e%3c/linearGradient%3e%3c/defs%3e%3crect width='100' height='100' rx='20' fill='url(%23grad)'/%3e%3cpath d='M25 35h50v5H25z' fill='white' opacity='0.9'/%3e%3cpath d='M25 45h35v3H25z' fill='white' opacity='0.7'/%3e%3cpath d='M25 52h40v3H25z' fill='white' opacity='0.7'/%3e%3cpath d='M25 59h25v3H25z' fill='white' opacity='0.7'/%3e%3ccircle cx='75' cy='75' r='12' fill='white' opacity='0.2'/%3e%3cpath d='M69 75h12M75 69v12' stroke='white' stroke-width='2' opacity='0.9'/%3e%3cpath d='M20 70l8 5-8 5z' fill='%230078d4'/%3e%3c/svg%3e">
    <link rel="apple-touch-icon" href="/apple-touch-icon.png">
    <link rel="manifest" href="/manifest.json">
    
    <!-- Structured Data (JSON-LD) -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "WebApplication",
        "name": "VS Code MCP Install Button Generator",
        "description": "Free online tool to generate beautiful one-click VS Code install buttons and links for Model Context Protocol (MCP) servers. Create custom badges, configure stdio/http connections, and build professional install buttons for your MCP projects.",
        "url": "https://vscodemcp.com/",
        "applicationCategory": "DeveloperApplication",
        "operatingSystem": "Web Browser",
        "offers": {
            "@type": "Offer",
            "price": "0",
            "priceCurrency": "USD"
        },
        "creator": {
            "@type": "Person",
            "name": "Merill Fernando",
            "url": "https://merill.net"
        },
        "keywords": "VS Code MCP, Model Context Protocol, MCP install button, VS Code extension install, MCP server generator, VS Code button creator, MCP link builder, install badge generator",
        "browserRequirements": "Requires JavaScript. Requires HTML5.",
        "permissions": "clipboard-write",
        "featureList": [
            "Generate VS Code MCP install buttons",
            "Configure stdio and http/sse connections",
            "Customize badge colors and styles",
            "Export as Markdown or HTML",
            "Real-time preview",
            "Copy to clipboard functionality"
        ]
    }
    </script>
    
    <!-- Additional Schema for Software Tool -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "SoftwareTool",
        "name": "VS Code MCP Install Button Generator",
        "description": "Generate beautiful install buttons for VS Code Model Context Protocol servers",
        "url": "https://vscodemcp.com/",
        "applicationCategory": "Web Development Tool",
        "programmingLanguage": "JavaScript",
        "runtimePlatform": "Web Browser",
        "targetProduct": {
            "@type": "SoftwareApplication",
            "name": "Visual Studio Code",
            "applicationCategory": "Code Editor"
        },
        "about": {
            "@type": "Thing",
            "name": "Model Context Protocol",
            "description": "Protocol for connecting AI assistants with external data sources and tools"
        }
    }
    </script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            -webkit-overscroll-behavior: none;
            overscroll-behavior: none;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            margin: 0;
            padding: 0;
            -webkit-overscroll-behavior: none;
            overscroll-behavior: none;
        }

        .top-nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 30px;
            background: rgba(255, 255, 255, 0.1);
            -webkit-backdrop-filter: blur(10px);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid rgba(255, 255, 255, 0.2);
        }

        .nav-brand {
            font-size: 1.2rem;
            font-weight: 600;
            color: white;
            text-decoration: none;
            transition: opacity 0.2s ease;
        }

        .nav-brand:hover {
            opacity: 0.8;
        }

        .nav-right {
            display: flex;
            align-items: center;
            gap: 25px;
        }

        .about-link {
            color: white;
            text-decoration: none;
            font-weight: 500;
            font-size: 1rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 6px;
            padding: 8px 16px;
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-radius: 20px;
            background: rgba(255, 255, 255, 0.1);
            transition: all 0.2s ease;
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
        }

        .about-link:hover {
            background: rgba(255, 255, 255, 0.2);
            border-color: rgba(255, 255, 255, 0.5);
            transform: translateY(-1px);
        }

        .about-icon {
            flex-shrink: 0;
        }

        .social-links {
            display: flex;
            gap: 20px;
        }

        .social-link {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 40px;
            height: 40px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 50%;
            color: white;
            text-decoration: none;
            transition: all 0.2s ease;
        }

        .social-link:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: translateY(-2px);
        }

        .social-icon {
            width: 20px;
            height: 20px;
            fill: currentColor;
        }

        .app-container {
            display: grid;
            grid-template-columns: 1fr 400px;
            min-height: calc(100vh - 71px); /* Subtract nav height */
        }

        .main-panel {
            background: rgba(255, 255, 255, 0.25);
            padding: 40px;
            overflow-y: auto;
            -webkit-backdrop-filter: blur(15px);
            backdrop-filter: blur(15px);
            margin: 20px;
            margin-right: 10px;
            border-radius: 20px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .preview-panel {
            background: transparent;
            padding: 40px;
            padding-left: 30px;
            display: flex;
            flex-direction: column;
            gap: 30px;
            position: sticky;
            top: 0;
            height: 100vh;
            overflow-y: auto;
        }

        .preview-section {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 16px;
            padding: 30px;
            -webkit-backdrop-filter: blur(10px);
            backdrop-filter: blur(10px);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }

        .preview-section h2 {
            font-size: 1.3rem;
            font-weight: 600;
            color: #333;
            margin-bottom: 20px;
            text-align: center;
        }

        .badge-preview {
            text-align: center;
            margin-bottom: 25px;
        }

        .badge-preview img {
            max-width: 100%;
            height: auto;
            display: inline-block;
        }

        .badge-section {
            margin-bottom: 20px;
        }

        .badge-section:last-child {
            margin-bottom: 0;
        }

        .badge-title {
            font-size: 0.9rem;
            font-weight: 600;
            color: #333;
            margin-bottom: 10px;
            text-align: center;
        }

        .badge-container {
            text-align: center;
            overflow: hidden;
        }

        .code-section {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 16px;
            padding: 30px;
            -webkit-backdrop-filter: blur(10px);
            backdrop-filter: blur(10px);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }

        .output-toggle {
            display: flex;
            background: rgba(255, 255, 255, 0.6);
            border: 2px solid rgba(255, 255, 255, 0.4);
            border-radius: 12px;
            padding: 6px;
            gap: 4px;
            margin-bottom: 20px;
            -webkit-backdrop-filter: blur(10px);
            backdrop-filter: blur(10px);
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }

        .output-btn {
            flex: 1;
            padding: 10px 16px;
            border: 2px solid rgba(255, 255, 255, 0.4);
            background: rgba(255, 255, 255, 0.3);
            border-radius: 8px;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 6px;
            color: #333;
        }

        .output-btn:hover {
            background: rgba(255, 255, 255, 0.5);
            border-color: rgba(255, 255, 255, 0.6);
            transform: translateY(-1px);
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }

        .output-btn svg {
            flex-shrink: 0;
            transition: all 0.2s ease;
        }

        .output-btn.active {
            background: #0078d4;
            border-color: #0078d4;
            color: white;
            box-shadow: 0 2px 8px rgba(0, 120, 212, 0.3);
        }

        .output-btn.active:hover {
            background: #106ebe;
            border-color: #106ebe;
        }

        /* Version Selector Styles */
        .version-selector-group {
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 20px;
            padding: 0;
            background: transparent;
        }

        .version-label {
            font-weight: 600;
            color: #333;
            font-size: 0.95rem;
            margin: 0;
        }

        .version-select {
            padding: 14px 20px;
            border: none;
            border-radius: 12px;
            background: linear-gradient(145deg, #ffffff, #f8f9fa);
            color: #333;
            font-size: 0.95rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            min-width: 180px;
            box-shadow: 
                0 4px 6px -1px rgba(0, 0, 0, 0.1),
                0 2px 4px -1px rgba(0, 0, 0, 0.06),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
            appearance: none;
            background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%234B5563' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M6 8l4 4 4-4'/%3e%3c/svg%3e");
            background-position: right 16px center;
            background-repeat: no-repeat;
            background-size: 16px;
            padding-right: 48px;
            position: relative;
        }

        .version-select:hover {
            transform: translateY(-2px);
            box-shadow: 
                0 10px 15px -3px rgba(0, 0, 0, 0.1),
                0 4px 6px -2px rgba(0, 0, 0, 0.05),
                inset 0 1px 0 rgba(255, 255, 255, 0.2);
            background: linear-gradient(145deg, #ffffff, #f1f3f4);
        }

        .version-select:focus {
            outline: none;
            transform: translateY(-1px);
            box-shadow: 
                0 0 0 3px rgba(59, 130, 246, 0.15),
                0 8px 12px -2px rgba(0, 0, 0, 0.1),
                0 4px 6px -1px rgba(0, 0, 0, 0.06),
                inset 0 1px 0 rgba(255, 255, 255, 0.2);
        }

        .version-select:active {
            transform: translateY(0);
        }

        .code-output {
            background: #2d3748;
            color: #e2e8f0;
            padding: 20px;
            border-radius: 8px;
            font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
            font-size: 0.85rem;
            line-height: 1.4;
            overflow-x: auto;
            white-space: pre-wrap;
            word-break: break-all;
            margin-bottom: 16px;
            position: relative;
        }

        /* Syntax highlighting for generated code */
        .code-output .syntax-markdown-link {
            color: #81C784; /* Green for markdown link syntax */
        }

        .code-output .syntax-markdown-text {
            color: #90CAF9; /* Light blue for markdown link text */
        }

        .code-output .syntax-markdown-url {
            color: #FFCC02; /* Yellow for URLs */
        }

        .code-output .syntax-url-base {
            color: #FFCC02; /* Yellow for base URL */
        }

        .code-output .syntax-url-param-name {
            color: #FFA726; /* Orange for URL parameter names */
        }

        .code-output .syntax-url-param-value {
            color: #64B5F6; /* Light blue for URL parameter values */
        }

        .code-output .syntax-url-separator {
            color: #E0E0E0; /* Light gray for URL separators (?, &, =) */
        }

        .code-output .syntax-html-tag {
            color: #F8BBD0; /* Pink for HTML tags */
        }

        .code-output .syntax-html-attr {
            color: #B39DDB; /* Purple for HTML attributes */
        }

        .code-output .syntax-html-value {
            color: #FFCC02; /* Yellow for HTML attribute values */
        }

        .code-output .syntax-html-text {
            color: #e2e8f0; /* Default color for HTML text content */
        }

        .copy-btn {
            background: #28a745;
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 500;
            transition: background-color 0.2s ease;
            width: 100%;
        }

        .copy-btn:hover {
            background: #218838;
        }

        .copy-btn.copied {
            background: #007bff;
        }

        .header {
            margin-bottom: 50px;
            text-align: center;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            margin: -40px -40px 40px -40px;
            padding: 35px 40px;
            border-radius: 20px 20px 0 0;
            position: relative;
            overflow: hidden;
        }

        .header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(255, 255, 255, 0.1);
            -webkit-backdrop-filter: blur(10px);
            backdrop-filter: blur(10px);
        }

        .header-content {
            position: relative;
            z-index: 1;
        }

        .header h1 {
            font-size: 2.8rem;
            margin-bottom: 12px;
            font-weight: 700;
            color: white;
            text-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
            letter-spacing: -0.02em;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
        }

        .header-icon {
            width: 48px;
            height: 48px;
            flex-shrink: 0;
        }

        .header p {
            font-size: 1.2rem;
            color: rgba(255, 255, 255, 0.9);
            font-weight: 400;
            max-width: 600px;
            margin: 0 auto;
            line-height: 1.4;
            white-space: normal;
        }

        .main-content {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .tabs-container {
            background: rgba(255, 255, 255, 0.4);
            border-radius: 16px;
            -webkit-backdrop-filter: blur(10px);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.3);
            box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }

        .tab-nav {
            display: flex;
            background: rgba(255, 255, 255, 0.2);
            border-bottom: 1px solid rgba(255, 255, 255, 0.3);
        }

        .tab-btn {
            flex: 1;
            padding: 20px 30px;
            border: none;
            background: transparent;
            color: #2d3748;
            font-weight: 600;
            font-size: 1.1rem;
            cursor: pointer;
            transition: all 0.2s ease;
            border-bottom: 3px solid transparent;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .tab-btn svg {
            margin-right: 8px;
            flex-shrink: 0;
        }

        .tab-btn:hover {
            background: rgba(255, 255, 255, 0.3);
        }

        .tab-btn.active {
            background: rgba(255, 255, 255, 0.4);
            border-bottom-color: #0078d4;
            color: #0078d4;
        }

        .tab-content {
            display: none;
            padding: 30px;
        }

        .tab-content.active {
            display: block;
        }

        .tab-content .form-section {
            background: transparent;
            padding: 0;
            border-radius: 0;
            border: none;
            box-shadow: none;
            -webkit-backdrop-filter: none;
            backdrop-filter: none;
        }

        .form-section {
            display: flex;
            flex-direction: column;
            gap: 30px;
            background: rgba(255, 255, 255, 0.4);
            padding: 30px;
            border-radius: 16px;
            -webkit-backdrop-filter: blur(10px);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.3);
            box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1);
        }

        .form-group {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .form-group label {
            font-weight: 600;
            color: #333;
            font-size: 0.95rem;
        }

        .field-description {
            font-size: 0.85rem;
            color: #666;
            font-style: italic;
            margin-bottom: 4px;
            line-height: 1.3;
        }

        .form-group input,
        .form-group textarea,
        .form-group select {
            padding: 12px 16px;
            border: 2px solid rgba(255, 255, 255, 0.4);
            border-radius: 8px;
            font-size: 1rem;
            transition: all 0.2s ease;
            background: rgba(255, 255, 255, 0.7);
            -webkit-backdrop-filter: blur(5px);
            backdrop-filter: blur(5px);
        }

        /* Override for JSON editor to prevent blur */
        .json-editor-container .json-textarea {
            background: #1e1e1e !important;
            -webkit-backdrop-filter: none !important;
            backdrop-filter: none !important;
            border: none !important;
        }

        .form-group input:focus,
        .form-group textarea:focus,
        .form-group select:focus {
            outline: none;
            border-color: rgba(0, 120, 212, 0.6);
            background: rgba(255, 255, 255, 0.9);
            box-shadow: 0 0 0 3px rgba(0, 120, 212, 0.1);
        }

        /* Specific override for JSON textarea focus to prevent white outline */
        .json-editor-container .json-textarea:focus {
            border: none !important;
            background: #1e1e1e !important;
            box-shadow: none !important;
        }

        .form-group textarea {
            resize: vertical;
            min-height: 120px;
            font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
        }

        /* JSON Editor Styles */
        .json-editor-container {
            position: relative;
            border: none;
            border-radius: 8px;
            background: #1e1e1e;
            transition: border-color 0.2s ease;
            transform: translateZ(0);
        }

        .json-editor-container:focus-within {
            border: 2px solid rgba(0, 120, 212, 0.6);
            box-shadow: 0 0 0 3px rgba(0, 120, 212, 0.1);
        }

        .json-editor {
            position: relative;
            min-height: 120px;
            font-family: 'SF Mono', 'Monaco', 'Menlo', 'Consolas', 'Ubuntu Mono', monospace;
            font-size: 14px;
            line-height: 1.5;
            background: #1e1e1e;
            border-radius: 6px;
        }

        .json-textarea {
            width: 100%;
            height: 100%;
            padding: 12px 16px;
            border: none;
            background: #1e1e1e;
            color: #d4d4d4;
            caret-color: #ffffff;
            resize: vertical;
            min-height: 120px;
            font-family: 'SF Mono', 'Monaco', 'Menlo', 'Consolas', 'Ubuntu Mono', monospace;
            font-size: 14px;
            line-height: 1.5;
            outline: none;
            white-space: pre;
            overflow-wrap: normal;
            overflow-x: auto;
            -webkit-font-smoothing: subpixel-antialiased;
            -moz-osx-font-smoothing: auto;
            text-rendering: geometricPrecision;
            font-feature-settings: "liga" 0, "calt" 0;
        }

        .json-highlight {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            padding: 12px 16px;
            pointer-events: none;
            white-space: pre;
            overflow-wrap: normal;
            overflow-x: auto;
            font-family: 'SF Mono', 'Monaco', 'Menlo', 'Consolas', 'Ubuntu Mono', monospace;
            font-size: 14px;
            line-height: 1.5;
            z-index: 1;
            background: transparent;
            -webkit-font-smoothing: subpixel-antialiased;
            -moz-osx-font-smoothing: auto;
            text-rendering: geometricPrecision;
            font-feature-settings: "liga" 0, "calt" 0;
            transform: translateZ(0);
        }

        /* JSON Syntax Highlighting - VS Code Dark Theme Colors */
        .json-key {
            color: #9cdcfe;
            font-weight: 400;
        }

        .json-string {
            color: #ce9178;
        }

        .json-number {
            color: #b5cea8;
        }

        .json-boolean {
            color: #569cd6;
            font-weight: 400;
        }

        .json-null {
            color: #569cd6;
            font-weight: 400;
        }

        .json-punctuation {
            color: #d4d4d4;
        }

        .json-error {
            background-color: rgba(255, 0, 0, 0.2);
            border-bottom: 2px wavy #ff6b68;
        }

        .enhanced-config {
            display: flex;
            gap: 20px;
            flex-direction: column;
        }

        .config-type-selector {
            display: flex;
            gap: 12px;
            margin-bottom: 20px;
        }

        .config-type-btn {
            padding: 8px 16px;
            border: 2px solid rgba(255, 255, 255, 0.4);
            background: rgba(255, 255, 255, 0.6);
            border-radius: 6px;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.2s ease;
            -webkit-backdrop-filter: blur(5px);
            backdrop-filter: blur(5px);
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .config-type-btn:hover {
            background: rgba(255, 255, 255, 0.8);
            border-color: rgba(255, 255, 255, 0.6);
            transform: translateY(-1px);
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }

        .config-type-btn svg {
            flex-shrink: 0;
            transition: all 0.2s ease;
        }

        .config-type-btn:hover svg {
            transform: scale(1.1);
        }

        .config-type-btn.active {
            border-color: #0078d4;
            background: #0078d4;
            color: white;
        }

        .config-type-btn.active svg {
            stroke: white;
        }

        .config-type-btn.active:hover {
            background: #106ebe;
            border-color: #106ebe;
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(16, 110, 190, 0.3);
        }

        .command-type-selector {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
            margin-bottom: 8px;
        }

        .command-type-btn {
            padding: 8px 12px;
            border: 2px solid rgba(255, 255, 255, 0.4);
            background: rgba(255, 255, 255, 0.6);
            border-radius: 6px;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.2s ease;
            -webkit-backdrop-filter: blur(5px);
            backdrop-filter: blur(5px);
            display: flex;
            align-items: center;
            gap: 6px;
            font-size: 0.9rem;
        }

        .command-type-btn:hover {
            background: rgba(255, 255, 255, 0.8);
            border-color: rgba(255, 255, 255, 0.6);
            transform: translateY(-1px);
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }

        .command-type-btn svg {
            flex-shrink: 0;
            transition: all 0.2s ease;
        }

        .command-type-btn:hover svg {
            transform: scale(1.1);
        }

        .command-type-btn.active {
            border-color: #0078d4;
            background: #0078d4;
            color: white;
        }

        .command-type-btn.active svg {
            stroke: white;
        }

        .command-type-btn.active:hover {
            background: #106ebe;
            border-color: #106ebe;
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(16, 110, 190, 0.3);
        }

        .command-custom-input {
            display: none;
            margin-top: 12px;
        }

        .command-custom-input.active {
            display: block;
        }

        .config-fields {
            display: none;
            gap: 16px;
        }

        .config-fields.active {
            display: flex;
            flex-direction: column;
        }

        .style-options {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
            justify-content: flex-start;
        }

        .style-btn {
            padding: 6px 12px;
            border: 2px solid rgba(255, 255, 255, 0.4);
            background: rgba(255, 255, 255, 0.6);
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.85rem;
            transition: all 0.2s ease;
            -webkit-backdrop-filter: blur(5px);
            backdrop-filter: blur(5px);
            display: flex;
            align-items: center;
            gap: 4px;
        }

        .style-btn:hover {
            background: rgba(255, 255, 255, 0.8);
            border-color: rgba(255, 255, 255, 0.6);
            transform: translateY(-1px);
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }

        .style-btn svg {
            flex-shrink: 0;
            transition: all 0.2s ease;
        }

        .style-btn:hover svg {
            transform: scale(1.1);
        }

        .style-btn.active {
            border-color: #0078d4;
            background: #0078d4;
            color: white;
        }

        .style-btn.active svg {
            stroke: white;
        }

        .style-btn.active:hover {
            background: #106ebe;
            border-color: #106ebe;
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(16, 110, 190, 0.3);
        }

        .section-title {
            font-size: 1.3rem;
            font-weight: 600;
            color: #2d3748;
            margin-bottom: 8px;
            border-bottom: 2px solid rgba(255, 255, 255, 0.6);
            padding-bottom: 8px;
            text-shadow: 0 1px 2px rgba(255, 255, 255, 0.8);
        }

        .config-layout {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            align-items: start;
        }

        .config-left {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .config-right {
            display: flex;
            flex-direction: column;
        }

        .config-right .json-editor-container {
            min-height: 300px;
        }

        .config-right .json-textarea {
            min-height: 300px;
            font-size: 12px;
        }

        @media (max-width: 1024px) {
            .app-container {
                grid-template-columns: 1fr;
                grid-template-rows: auto 1fr;
                padding: 20px;
                gap: 20px;
                min-height: calc(100vh - 111px); /* Adjust for nav height + padding */
            }

            .preview-panel {
                position: static;
                height: auto;
                padding: 30px;
                order: 1;
                margin: 0;
            }

            .main-panel {
                padding: 30px;
                margin: 0;
                border-radius: 16px;
            }

            .config-layout {
                grid-template-columns: 1fr;
                gap: 20px;
            }
        }

        @media (max-width: 768px) {
            .top-nav {
                padding: 12px 20px;
            }

            .nav-brand {
                font-size: 1.1rem;
            }

            .social-links {
                gap: 15px;
            }

            .social-link {
                width: 36px;
                height: 36px;
            }

            .social-icon {
                width: 18px;
                height: 18px;
            }

            .app-container {
                padding: 15px;
                gap: 15px;
                min-height: calc(100vh - 91px); /* Adjust for smaller nav */
            }

            .main-panel {
                padding: 20px;
            }

            .preview-panel {
                padding: 20px;
            }

            .header {
                margin: -20px -20px 30px -20px;
                padding: 30px 20px;
                border-radius: 16px 16px 0 0;
            }

            .header h1 {
                font-size: 2.2rem;
                flex-direction: column;
                gap: 10px;
            }

            .header-icon {
                width: 40px;
                height: 40px;
            }

            .header p {
                font-size: 1.1rem;
                white-space: normal;
                line-height: 1.4;
            }

            .style-options {
                justify-content: center;
            }
        }

        .field-group {
            display: grid;
            grid-template-columns: 2fr 1fr 1fr;
            gap: 16px;
        }

        .badge-options-row {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 20px;
            align-items: start;
        }

        .badge-options-row .form-group:last-child {
            margin-bottom: 0;
        }

        .color-group {
            display: flex;
            flex-direction: row;
            gap: 16px;
        }

        .color-input-group {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 8px;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            background: rgba(255, 255, 255, 0.5);
            transition: all 0.2s ease;
        }

        .color-input-group:hover {
            border-color: #0078d4;
            background: rgba(255, 255, 255, 0.7);
            box-shadow: 0 2px 8px rgba(0, 120, 212, 0.1);
        }

        .color-label {
            font-size: 0.85rem;
            font-weight: 500;
            color: #555;
            min-width: 60px;
            margin: 0;
        }

        .color-input-group input[type="color"] {
            width: 40px;
            height: 40px;
            border: 2px solid #e1e5e9;
            border-radius: 50%;
            cursor: pointer;
            background: none;
            padding: 0;
            -webkit-appearance: none;
            -moz-appearance: none;
            appearance: none;
            overflow: hidden;
        }

        .color-input-group input[type="color"]::-webkit-color-swatch-wrapper {
            padding: 0;
            border: none;
            border-radius: 50%;
        }

        .color-input-group input[type="color"]::-webkit-color-swatch {
            border: none;
            border-radius: 50%;
            box-shadow: inset 0 0 0 1px rgba(0, 0, 0, 0.1);
        }

        .color-input-group input[type="color"]::-moz-color-swatch {
            border: none;
            border-radius: 50%;
        }

        .color-input-group input[type="color"]:hover {
            border-color: #0078d4;
            transform: scale(1.05);
            transition: all 0.2s ease;
        }

        @media (max-width: 768px) {
            .field-group {
                grid-template-columns: 1fr 1fr;
            }
            
            .badge-options-row {
                grid-template-columns: 1fr;
                gap: 20px;
            }
            
            .badge-options-row .color-group {
                flex-direction: row !important;
                gap: 16px;
                justify-content: space-between;
            }
            
            .badge-options-row .color-input-group {
                flex: 1;
                justify-content: space-between;
            }
            
            .badge-options-row .color-label {
                min-width: auto;
                flex: 1;
                text-align: left;
            }
            
            .badge-options-row .color-input-group input[type="color"] {
                flex-shrink: 0;
                margin-left: 8px;
            }
        }

        @media (max-width: 480px) {
            .field-group {
                grid-template-columns: 1fr;
            }
            
            .badge-options-row {
                gap: 24px;
            }
            
            .badge-options-row .color-group {
                gap: 12px;
                flex-direction: row !important;
                justify-content: space-between;
            }
            
            .badge-options-row .color-input-group {
                flex: 1;
                justify-content: space-between;
            }
            
            .badge-options-row .color-label {
                font-size: 0.8rem;
                text-align: left;
            }
        }

        .sr-only {
            position: absolute;
            left: -10000px;
            top: -10000px;
            width: 1px;
            height: 1px;
            overflow: hidden;
        }

        /* Tooltip Styles */
        .tooltip-icon {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            margin-left: 6px;
            cursor: help;
            color: #666;
            transition: color 0.2s ease;
            position: relative;
            vertical-align: middle;
        }

        .tooltip-icon:hover {
            color: #0078d4;
        }

        .tooltip-icon svg {
            flex-shrink: 0;
        }

        .tooltip-icon:hover::after {
            content: attr(data-tooltip);
            position: absolute;
            bottom: 125%;
            left: 50%;
            transform: translateX(-50%);
            background: #333;
            color: white;
            padding: 12px 16px;
            border-radius: 8px;
            font-size: 0.85rem;
            line-height: 1.4;
            white-space: pre-line;
            z-index: 1000;
            min-width: 280px;
            max-width: 320px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            font-weight: 400;
            text-align: left;
        }

        .tooltip-icon:hover::before {
            content: '';
            position: absolute;
            bottom: 117%;
            left: 50%;
            transform: translateX(-50%);
            border: 6px solid transparent;
            border-top-color: #333;
            z-index: 1001;
        }

        /* Responsive tooltip positioning */
        @media (max-width: 768px) {
            .tooltip-icon:hover::after {
                min-width: 240px;
                max-width: 280px;
                font-size: 0.8rem;
            }
        }

        /* Modal Styles */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.7);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            backdrop-filter: blur(5px);
            -webkit-backdrop-filter: blur(5px);
        }

        .modal-overlay.active {
            display: flex;
        }

        .modal {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            max-width: 600px;
            width: 90%;
            max-height: 80vh;
            position: relative;
            backdrop-filter: blur(15px);
            -webkit-backdrop-filter: blur(15px);
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(255, 255, 255, 0.3);
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        .modal-content {
            padding: 40px;
            overflow-y: auto;
            flex: 1;
        }

        .modal-close {
            position: absolute;
            top: 20px;
            right: 20px;
            background: none;
            border: none;
            font-size: 24px;
            cursor: pointer;
            color: #666;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            transition: all 0.2s ease;
        }

        .modal-close:hover {
            background: rgba(0, 0, 0, 0.1);
            color: #333;
        }

        .modal h2 {
            color: #333;
            margin-bottom: 20px;
            font-size: 1.8rem;
            font-weight: 700;
        }

        .modal h3 {
            color: #0078d4;
            margin: 25px 0 15px 0;
            font-size: 1.2rem;
            font-weight: 600;
        }

        .modal p {
            color: #555;
            line-height: 1.6;
            margin-bottom: 15px;
        }

        .modal a {
            color: #0078d4;
            text-decoration: none;
            font-weight: 500;
        }

        .modal a:hover {
            text-decoration: underline;
        }

        .modal ul {
            margin: 15px 0;
            padding-left: 20px;
        }

        .modal li {
            color: #555;
            line-height: 1.6;
            margin-bottom: 8px;
        }

        .profile-section {
            display: flex;
            align-items: flex-start;
            gap: 20px;
            margin-bottom: 20px;
        }

        .profile-image {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            object-fit: cover;
            flex-shrink: 0;
            border: 3px solid rgba(0, 120, 212, 0.2);
        }

        .profile-text {
            flex: 1;
        }

        @media (max-width: 480px) {
            .profile-section {
                flex-direction: column;
                align-items: center;
                text-align: center;
            }
        }

        /* Reset Button Styles */
        .reset-container {
            display: flex;
            justify-content: center;
            margin-top: 30px;
            padding: 20px;
        }

        .reset-btn {
            background: linear-gradient(135deg, #343a40 0%, #23272b 100%);
            color: white;
            border: none;
            padding: 14px 28px;
            border-radius: 10px;
            cursor: pointer;
            font-weight: 600;
            font-size: 1rem;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 10px;
            box-shadow: 0 4px 15px rgba(52, 58, 64, 0.4);
            letter-spacing: 0.5px;
        }

        .reset-btn:hover {
            background: linear-gradient(135deg, #23272b 0%, #1a1e21 100%);
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(52, 58, 64, 0.6);
        }

        .reset-btn:active {
            transform: translateY(0);
            box-shadow: 0 2px 10px rgba(52, 58, 64, 0.4);
        }

        .reset-btn svg {
            flex-shrink: 0;
            transition: transform 0.3s ease;
        }

        .reset-btn:hover svg {
            transform: rotate(180deg);
        }
    </style>
</head>
<body>
    <!-- Top Navigation -->
    <nav class="top-nav">
        <a href="https://merill.net" class="nav-brand" target="_blank" rel="noopener">merill.net</a>
        
        <div class="nav-right">
            <a href="#" class="about-link" id="aboutBtn">
                <svg class="about-icon" viewBox="0 0 24 24" width="16" height="16" fill="currentColor">
                    <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"/>
                </svg>
                About
            </a>
            
            <div class="social-links">
                <a href="https://x.com/merill" class="social-link" target="_blank" rel="noopener" aria-label="X (Twitter)">
                    <svg class="social-icon" viewBox="0 0 24 24">
                        <path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/>
                    </svg>
                </a>
            
            <a href="https://linkedin.com/in/merill" class="social-link" target="_blank" rel="noopener" aria-label="LinkedIn">
                <svg class="social-icon" viewBox="0 0 24 24">
                    <path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/>
                </svg>
            </a>
            
            <a href="https://github.com/merill/vscode-mcp" class="social-link" target="_blank" rel="noopener" aria-label="GitHub">
                <svg class="social-icon" viewBox="0 0 24 24">
                    <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/>
                </svg>
            </a>
        </div>
    </nav>

    <div class="app-container">
        <!-- Main Panel with Form -->
        <div class="main-panel">
            <div class="header">
                <div class="header-content">
                    <h1>
                        <svg class="header-icon" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
                            <defs>
                                <linearGradient id="headerGrad" x1="0%" y1="0%" x2="100%" y2="100%">
                                    <stop offset="0%" style="stop-color:#ffffff;stop-opacity:0.9"/>
                                    <stop offset="100%" style="stop-color:#ffffff;stop-opacity:0.7"/>
                                </linearGradient>
                            </defs>
                            <rect width="100" height="100" rx="20" fill="url(#headerGrad)" opacity="0.9"/>
                            <path d="M25 35h50v5H25z" fill="#0078d4" opacity="0.8"/>
                            <path d="M25 45h35v3H25z" fill="#0078d4" opacity="0.6"/>
                            <path d="M25 52h40v3H25z" fill="#0078d4" opacity="0.6"/>
                            <path d="M25 59h25v3H25z" fill="#0078d4" opacity="0.6"/>
                            <circle cx="75" cy="75" r="12" fill="#0078d4" opacity="0.3"/>
                            <path d="M69 75h12M75 69v12" stroke="#0078d4" stroke-width="2" opacity="0.8"/>
                            <path d="M20 70l8 5-8 5z" fill="#28a745"/>
                        </svg>
                        VS Code MCP Install Button Generator
                    </h1>
                    <p>Generate beautiful one-click install buttons for your Model Context Protocol servers</p>
                </div>
            </div>

            <div class="main-content">
                <!-- Single Form Container -->
                <div class="tabs-container">
                    <div class="tab-content active">
                        <div class="form-section">
                            <!-- Badge Text - Full Width -->
                            <div class="form-group">
                                <label for="badgeText">Install button</label>
                                <small class="field-description">The text that will appear on your install button/badge</small>
                                <input type="text" id="badgeText" placeholder="Install Microsoft Docs MCP" value="Install Microsoft Docs MCP">
                            </div>

            <!-- Badge Style and Color - Second Row -->
            <div class="badge-options-row">
                <div class="form-group">
                    <label>Style</label>
                    <small class="field-description">Choose the visual style for your badge</small>
                    <div class="style-options">
                        <button class="style-btn" data-style="flat">
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#4A90E2" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M3 12h18m-9-9v18"/>
                                <circle cx="12" cy="12" r="3" fill="#4A90E2" opacity="0.3"/>
                            </svg>
                            flat
                        </button>
                        <button class="style-btn active" data-style="flat-square">
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#10B981" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <rect width="14" height="14" x="5" y="5"/>
                                <path d="M8 8h8M8 12h8M8 16h6"/>
                            </svg>
                            flat-square
                        </button>
                        <button class="style-btn" data-style="plastic">
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#50C878" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M12 2L2 7l10 5 10-5-10-5z"/>
                                <path d="m2 17 10 5 10-5"/>
                                <path d="m2 12 10 5 10-5"/>
                            </svg>
                            plastic
                        </button>
                        <button class="style-btn" data-style="for-the-badge">
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#9B59B6" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <rect width="20" height="12" x="2" y="6" rx="2"/>
                                <circle cx="8" cy="12" r="2"/>
                                <path d="m14 12 2 2 4-4"/>
                            </svg>
                            for-the-badge
                        </button>
                        <button class="style-btn" data-style="social">
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#FF9500" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"/>
                            </svg>
                            social
                        </button>
                    </div>
                </div>

                <div class="form-group">
                    <label>Colors</label>
                    <small class="field-description">Choose colors for your badges</small>
                    <div class="color-group">
                        <div class="color-input-group">
                            <label for="badgeColor" class="color-label">VS Code</label>
                            <input type="color" id="badgeColor" value="#0098FF">
                        </div>
                        <div class="color-input-group">
                            <label for="insidersBadgeColor" class="color-label">Insiders</label>
                            <input type="color" id="insidersBadgeColor" value="#24bfa5">
                        </div>
                    </div>
                </div>
            </div>                            <!-- VS Code Configuration Section -->
                            <h3 class="section-title">VS Code Configuration</h3>
                            <p style="color: #666; font-size: 0.9rem; margin-top: -20px; line-height: 1.5;">
                                Learn more about the 
                                <a href="https://code.visualstudio.com/docs/copilot/chat/mcp-servers#_configuration-format" target="_blank" rel="noopener" style="color: #0078d4; text-decoration: none;">VS Code MCP Configuration format</a>.
                            </p>

                            <div class="config-layout">
                                <div class="config-left">
                                    <!-- MCP Name -->
                                    <div class="form-group">
                                        <label for="mcpName">
                                            MCP Server Name
                                            <span class="tooltip-icon" data-tooltip="Tips for naming your MCP server:
❌ Avoid using whitespace or special characters.
✅ Use a unique name for each server to avoid conflicts.
✅ Use a descriptive name that reflects the server's functionality or brand, such as 'Github' or 'database'.">
                                                <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                                    <circle cx="12" cy="12" r="10"/>
                                                    <path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"/>
                                                    <path d="M12 17h.01"/>
                                                </svg>
                                            </span>
                                        </label>
                                        <small class="field-description">Shown in VS Code's MCP server list</small>
                                        <input type="text" id="mcpName" placeholder="e.g., microsoft.docs.mcp" value="microsoft.docs.mcp">
                                    </div>

                                    <!-- Configuration Options -->
                                    <div class="enhanced-config active" id="enhancedConfig">
                                        <div class="config-type-selector">
                                            <button class="config-type-btn" data-type="stdio">
                                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#6366F1" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                                    <rect width="20" height="14" x="2" y="3" rx="2"/>
                                                    <line x1="8" x2="16" y1="21" y2="21"/>
                                                    <line x1="12" x2="12" y1="17" y2="21"/>
                                                </svg>
                                                stdio
                                            </button>
                                            <button class="config-type-btn active" data-type="http">
                                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#059669" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                                    <circle cx="12" cy="12" r="10"/>
                                                    <path d="M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20"/>
                                                    <path d="M2 12h20"/>
                                                </svg>
                                                http
                                            </button>
                                            <button class="config-type-btn" data-type="sse">
                                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#DC2626" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                                    <path d="M22 12h-4l-3 9L9 3l-3 9H2"/>
                                                </svg>
                                                sse
                                            </button>
                                        </div>

                                        <!-- stdio fields -->
                                        <div class="config-fields" id="stdioFields">
                                            <div class="form-group">
                                                <label>Command</label>
                                                <small class="field-description">The executable command to start your MCP server</small>
                                                <div class="command-type-selector">
                                                    <button class="command-type-btn active" data-command="npx">
                                                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#E74C3C" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                                            <path d="M12 2L2 7l10 5 10-5-10-5z"/>
                                                            <path d="m2 17 10 5 10-5"/>
                                                            <path d="m2 12 10 5 10-5"/>
                                                        </svg>
                                                        npx
                                                    </button>
                                                    <button class="command-type-btn" data-command="node">
                                                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#8CC84B" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                                            <path d="M12 3L4 7V17L12 21L20 17V7L12 3Z"/>
                                                            <path d="M12 8L8 10V14L12 16L16 14V10L12 8Z"/>
                                                        </svg>
                                                        node
                                                    </button>
                                                    <button class="command-type-btn" data-command="uv">
                                                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#3776AB" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                                            <path d="M8 3C6.5 3 5 4.5 5 6v4c0 1.5 1.5 3 3 3h4c1.5 0 3-1.5 3-3V6c0-1.5-1.5-3-3-3H8Z"/>
                                                            <path d="M16 11c1.5 0 3 1.5 3 3v4c0 1.5-1.5 3-3 3h-4c-1.5 0-3-1.5-3-3v-4c0-1.5 1.5-3 3-3h4Z"/>
                                                            <circle cx="8.5" cy="6.5" r="0.5" fill="#3776AB"/>
                                                            <circle cx="15.5" cy="17.5" r="0.5" fill="#3776AB"/>
                                                        </svg>
                                                        python (uv)
                                                    </button>
                                                    <button class="command-type-btn" data-command="python">
                                                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#3776AB" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                                            <path d="M8 3C6.5 3 5 4.5 5 6v4c0 1.5 1.5 3 3 3h4c1.5 0 3-1.5 3-3V6c0-1.5-1.5-3-3-3H8Z"/>
                                                            <path d="M16 11c1.5 0 3 1.5 3 3v4c0 1.5-1.5 3-3 3h-4c-1.5 0-3-1.5-3-3v-4c0-1.5 1.5-3 3-3h4Z"/>
                                                            <circle cx="8.5" cy="6.5" r="0.5" fill="#3776AB"/>
                                                            <circle cx="15.5" cy="17.5" r="0.5" fill="#3776AB"/>
                                                        </svg>
                                                        python
                                                    </button>
                                                    <button class="command-type-btn" data-command="cmd">
                                                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#0078D4" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                                            <rect width="20" height="14" x="2" y="3" rx="2"/>
                                                            <line x1="8" x2="16" y1="21" y2="21"/>
                                                            <line x1="12" x2="12" y1="17" y2="21"/>
                                                            <path d="M7 8L9 10L7 12"/>
                                                            <path d="M11 12H16"/>
                                                        </svg>
                                                        cmd
                                                    </button>
                                                    <button class="command-type-btn" data-command="dotnet">
                                                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#512BD4" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                                            <circle cx="12" cy="12" r="10"/>
                                                            <path d="M8 12h8"/>
                                                            <path d="M12 8v8"/>
                                                            <rect x="6" y="6" width="12" height="12" rx="2" fill="none"/>
                                                            <path d="M9 9h6v6H9z" fill="#512BD4" opacity="0.3"/>
                                                        </svg>
                                                        dotnet
                                                    </button>
                                                    <button class="command-type-btn" data-command="docker">
                                                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#2496ED" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                                            <rect x="3" y="3" width="4" height="4" rx="1"/>
                                                            <rect x="9" y="3" width="4" height="4" rx="1"/>
                                                            <rect x="15" y="3" width="4" height="4" rx="1"/>
                                                            <rect x="3" y="9" width="4" height="4" rx="1"/>
                                                            <rect x="9" y="9" width="4" height="4" rx="1"/>
                                                            <rect x="15" y="9" width="4" height="4" rx="1"/>
                                                            <rect x="9" y="15" width="4" height="4" rx="1"/>
                                                        </svg>
                                                        docker
                                                    </button>
                                                    <button class="command-type-btn" data-command="custom">
                                                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#9B59B6" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                                            <path d="m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z"/>
                                                        </svg>
                                                        custom
                                                    </button>
                                                </div>
                                                <input type="text" id="command" placeholder="Enter custom command" class="command-custom-input">
                                            </div>
                                            <div class="form-group">
                                                <label for="args">Arguments (one per line)</label>
                                                <small class="field-description">Command-line arguments to pass to your MCP server executable (one argument per line)</small>
                                                <textarea id="args" placeholder="-y&#10;@npm/package"></textarea>
                                            </div>
                                            <div class="form-group">
                                                <label for="env">Environment Variables (JSON)</label>
                                                <small class="field-description">Environment variables to set when running your MCP server (optional)</small>
                                                <textarea id="env" placeholder='{"API_KEY": "${input:api-key}"}'></textarea>
                                            </div>
                                        </div>

                                        <!-- http/sse fields -->
                                        <div class="config-fields active" id="httpFields">
                                            <div class="form-group">
                                                <label for="url">Server URL</label>
                                                <small class="field-description">The HTTP/HTTPS endpoint where your MCP server is hosted</small>
                                                <input type="url" id="url" placeholder="https://learn.microsoft.com/api/mcp" value="https://learn.microsoft.com/api/mcp">
                                            </div>
                                            <div class="form-group">
                                                <label for="headers">Headers (JSON)</label>
                                                <small class="field-description">(Optional) HTTP headers for authentication or configuration</small>
                                                <textarea id="headers" placeholder='{"Authorization": "Bearer ${input:token}"}'></textarea>
                                            </div>
                                        </div>

                                        <!-- sse fields -->
                                        <div class="config-fields" id="sseFields">
                                            <div class="form-group">
                                                <label for="sseUrl">Server URL</label>
                                                <small class="field-description">The SSE endpoint where your MCP server is hosted</small>
                                                <input type="url" id="sseUrl" placeholder="https://example.com/sse/mcp">
                                            </div>
                                            <div class="form-group">
                                                <label for="sseHeaders">Headers (JSON)</label>
                                                <small class="field-description">Optional HTTP headers for authentication or configuration (optional)</small>
                                                <textarea id="sseHeaders" placeholder='{"Authorization": "Bearer ${input:token}"}'></textarea>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="config-right">
                                    <!-- Configuration JSON always visible -->
                                    <div class="form-group">
                                        <label for="configText">Configuration JSON</label>
                                        <small class="field-description">Raw JSON configuration for your MCP server connection</small>
                                        <div class="json-editor-container">
                                            <div class="json-editor">
                                                <textarea class="json-textarea" id="configText" placeholder='{"name":"microsoft.docs.mcp","type":"http","url":"https://learn.microsoft.com/api/mcp"}' spellcheck="false">{"name":"microsoft.docs.mcp","type":"http","url":"https://learn.microsoft.com/api/mcp"}</textarea>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Reset Button Container -->
                <div class="reset-container">
                    <button class="reset-btn" id="resetBtn">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <polyline points="1 4 1 10 7 10"/>
                            <path d="M3.51 15a9 9 0 1 0 2.13-9.36L1 10"/>
                        </svg>
                        Reset to Defaults
                    </button>
                </div>
            </div>
        </div>

        <!-- Preview Panel -->
        <div class="preview-panel">
            <!-- Live Preview Section -->
            <div class="preview-section">
                <h2>Live Preview</h2>
                <p style="text-align: center; color: #666; font-size: 0.9rem; margin-bottom: 15px;">
                    ✨ This is an active preview - click the badge below to test the VS Code install!
                </p>
                <div class="badge-preview" id="badgePreview">
                    <!-- Badge preview will be inserted here -->
                </div>
                <p style="text-align: center; color: #888; font-size: 0.8rem; margin-top: 10px;">
                    Clicking will open VS Code and prompt to install your MCP server
                </p>
            </div>

            <!-- Generated Code Section -->
            <div class="code-section">
                <div class="version-selector-group">
                    <select id="versionSelect" class="version-select">
                        <option value="vscode">VS Code</option>
                        <option value="insiders">VS Code Insiders</option>
                    </select>
                </div>
                
                <div class="output-toggle">
                    <button class="output-btn active" data-format="markdown">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2z"/>
                            <path d="M8 8v8"/>
                            <path d="M16 8v8"/>
                            <path d="M8 12h8"/>
                            <path d="M8 16h4"/>
                        </svg>
                        Markdown
                    </button>
                    <button class="output-btn" data-format="html">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="m18 16 4-4-4-4"/>
                            <path d="m6 8-4 4 4 4"/>
                            <path d="M8 4v16"/>
                            <path d="M16 4v16"/>
                        </svg>
                        HTML
                    </button>
                </div>
                
                <p style="color: #666; font-size: 0.9rem; margin: 10px 0; line-height: 1.4;">
                    Copy this code to insert the install button in your website, documentation, or GitHub README files.
                </p>

                <div class="code-output" id="generatedCode">
                    <!-- Generated code will appear here -->
                </div>

                <button class="copy-btn" id="copyBtn">Copy to Clipboard</button>
            </div>
        </div>
    </div>

    <!-- Hidden SEO Content -->
    <div class="sr-only">
        <h2>About VS Code MCP Install Button Generator</h2>
        <p>This free online tool helps developers create professional install buttons and links for Visual Studio Code Model Context Protocol (MCP) servers. Whether you're building MCP extensions, integrations, or tools, our generator makes it easy to create beautiful, standardized install buttons that users can click to automatically install your MCP server in VS Code.</p>
        
        <h3>Key Features:</h3>
        <ul>
            <li>Generate VS Code MCP install buttons with custom styling</li>
            <li>Support for both stdio and HTTP/SSE MCP server configurations</li>
            <li>Real-time preview of your install button</li>
            <li>Export options in Markdown and HTML formats</li>
            <li>Customizable badge colors, styles, and text</li>
            <li>One-click copy to clipboard functionality</li>
            <li>Mobile-responsive design for all devices</li>
        </ul>
        
        <h3>How to Use:</h3>
        <p>Simply configure your MCP server details, customize the button appearance, and copy the generated code to add professional install buttons to your project documentation, README files, or websites.</p>
        
        <h3>Related Keywords:</h3>
        <p>VS Code extension, MCP server, Model Context Protocol, install button creator, VS Code button generator, MCP link builder, extension install badge, VS Code tools, developer tools, MCP configuration, stdio MCP, HTTP MCP, SSE MCP, Visual Studio Code integration</p>
    </div>

    <!-- About Modal -->
    <div class="modal-overlay" id="aboutModal">
        <div class="modal">
            <button class="modal-close" id="closeModal">&times;</button>
            
            <div class="modal-content">
                <h2>About This Tool</h2>
                
                <h3>My Story</h3>
                <div class="profile-section">
                    <img src="img/merill-profile.jpeg" alt="Merill Fernando" class="profile-image">
                    <div class="profile-text">
                        <p>Hi! I'm Merill, and I'm passionate about building tools that make developers' lives easier. As an MCP (Model Context Protocol) Server creator, I built one of the first Microsoft 365 MCP Servers <a href="https://lokka.dev" target="_blank" rel="noopener">(Lokka)</a>.</p>
                        
                        <p>When I wanted to add professional VS Code install buttons to my MCP projects' web pages and GitHub README files, I couldn't find a simple online tool that made it easy to create and test these badges. So, I did what any developer would do - I built one myself!</p>
                    </div>
                </div>
                
                <h3>What This Tool Does</h3>
                <p>This VS Code MCP Install Button Generator helps you create beautiful, professional install buttons for your Model Context Protocol servers. Whether you're building MCP extensions, integrations, or tools, this generator makes it simple to:</p>
                
                <ul>
                    <li>Configure your MCP server settings (stdio or HTTP/SSE)</li>
                    <li>Customize badge appearance with colors and styles</li>
                    <li>Generate real-time previews</li>
                    <li>Export as Markdown or HTML code</li>
                    <li>Copy ready-to-use code to your clipboard</li>
                </ul>
                
                <h3>Technical Details</h3>
                <p>This tool generates install links based on <a href="https://code.visualstudio.com/api/extension-guides/ai/mcp" target="_blank" rel="noopener">Microsoft's official guidance</a> for Model Context Protocol integration with VS Code. For more information about MCP servers, see the <a href="https://code.visualstudio.com/docs/copilot/chat/mcp-servers" target="_blank" rel="noopener">VS Code documentation on MCP servers</a>. The badges are powered by Shields.io for consistent, professional appearance.</p>
                
                <p>The tool is completely free, open-source, and runs entirely in your browser - no data is sent to any servers.</p>
                
                <h3>Get Started</h3>
                <p>Simply configure your MCP server details in the Configuration tab, customize your button in the Badge Customization tab, and copy the generated code to use in your projects!</p>
            </div>
        </div>
    </div>

    <script>
        // Default state values for reset functionality
        const defaultState = {
            mcpName: 'microsoft.docs.mcp',
            configType: 'http',
            command: 'npx',
            config: {
                name: 'microsoft.docs.mcp',
                type: 'http',
                url: 'https://learn.microsoft.com/api/mcp'
            },
            badgeText: 'Install Microsoft Docs MCP',
            badgeColor: '#0098FF',
            insidersBadgeColor: '#24bfa5',
            badgeStyle: 'flat-square',
            outputFormat: 'markdown',
            outputVersion: 'vscode'
        };

        // State management with localStorage support
        let state = { ...defaultState };

        // LocalStorage key
        const STORAGE_KEY = 'vscode-mcp-generator-state';

        // Load state from localStorage
        function loadStateFromStorage() {
            try {
                const savedState = localStorage.getItem(STORAGE_KEY);
                if (savedState) {
                    const parsed = JSON.parse(savedState);
                    // Merge with default state to ensure all properties exist
                    state = { ...defaultState, ...parsed };
                    return true;
                }
            } catch (error) {
                console.warn('Failed to load state from localStorage:', error);
            }
            return false;
        }

        // Save state to localStorage
        function saveStateToStorage() {
            try {
                localStorage.setItem(STORAGE_KEY, JSON.stringify(state));
            } catch (error) {
                console.warn('Failed to save state to localStorage:', error);
            }
        }

        // Reset state to defaults and clear storage
        function resetToDefaults() {
            state = { ...defaultState };
            localStorage.removeItem(STORAGE_KEY);
            updateFormFromState();
            updateOutput();
        }

        // Update form fields from current state
        function updateFormFromState() {
            // Update form fields
            elements.mcpName.value = state.mcpName;
            elements.badgeText.value = state.badgeText;
            elements.badgeColor.value = state.badgeColor;
            elements.insidersBadgeColor.value = state.insidersBadgeColor;
            
            // Update config type buttons
            document.querySelectorAll('.config-type-btn').forEach(btn => {
                btn.classList.remove('active');
                if (btn.dataset.type === state.configType) {
                    btn.classList.add('active');
                }
            });
            
            // Update style buttons
            document.querySelectorAll('.style-btn').forEach(btn => {
                btn.classList.remove('active');
                if (btn.dataset.style === state.badgeStyle) {
                    btn.classList.add('active');
                }
            });
            
            // Update output format buttons
            document.querySelectorAll('.output-btn[data-format]').forEach(btn => {
                btn.classList.remove('active');
                if (btn.dataset.format === state.outputFormat) {
                    btn.classList.add('active');
                }
            });
            
            // Update version selector
            const versionSelect = document.getElementById('versionSelect');
            if (versionSelect) {
                versionSelect.value = state.outputVersion;
            }
            
            // Update config fields
            showConfigFields();
            updateConfigFieldsFromState();
            updateConfig();
        }

        // Show appropriate config fields based on config type
        function showConfigFields() {
            document.querySelectorAll('.config-fields').forEach(f => f.classList.remove('active'));
            
            if (state.configType === 'stdio') {
                elements.stdioFields.classList.add('active');
            } else if (state.configType === 'http') {
                elements.httpFields.classList.add('active');
            } else if (state.configType === 'sse') {
                elements.sseFields.classList.add('active');
            }
        }

        // Update config fields from state
        function updateConfigFieldsFromState() {
            const config = state.config;
            
            if (state.configType === 'stdio') {
                elements.command.value = config.command || state.command;
                elements.args.value = config.args ? config.args.join('\n') : '';
                elements.env.value = config.env ? JSON.stringify(config.env, null, 2) : '';
                
                // Update command type buttons
                document.querySelectorAll('.command-type-btn').forEach(btn => {
                    btn.classList.remove('active');
                    if (btn.dataset.command === elements.command.value) {
                        btn.classList.add('active');
                        elements.command.classList.remove('active');
                    } else if (btn.dataset.command === 'custom' && 
                               !['npx', 'node', 'uv', 'python', 'cmd', 'dotnet', 'docker'].includes(elements.command.value)) {
                        btn.classList.add('active');
                        elements.command.classList.add('active');
                    }
                });
            } else if (state.configType === 'http') {
                elements.url.value = config.url || '';
                elements.headers.value = config.headers ? JSON.stringify(config.headers, null, 2) : '';
            } else if (state.configType === 'sse') {
                elements.sseUrl.value = config.url || '';
                elements.sseHeaders.value = config.headers ? JSON.stringify(config.headers, null, 2) : '';
            }
        }

        // DOM elements
        const elements = {
            mcpName: document.getElementById('mcpName'),
            configText: document.getElementById('configText'),
            enhancedConfig: document.getElementById('enhancedConfig'),
            command: document.getElementById('command'),
            args: document.getElementById('args'),
            env: document.getElementById('env'),
            url: document.getElementById('url'),
            headers: document.getElementById('headers'),
            sseUrl: document.getElementById('sseUrl'),
            sseHeaders: document.getElementById('sseHeaders'),
            stdioFields: document.getElementById('stdioFields'),
            httpFields: document.getElementById('httpFields'),
            sseFields: document.getElementById('sseFields'),
            badgeText: document.getElementById('badgeText'),
            badgeColor: document.getElementById('badgeColor'),
            insidersBadgeColor: document.getElementById('insidersBadgeColor'),
            badgePreview: document.getElementById('badgePreview'),
            generatedCode: document.getElementById('generatedCode'),
            copyBtn: document.getElementById('copyBtn')
        };

        // Event listeners
        document.addEventListener('DOMContentLoaded', function() {
            // Load saved state from localStorage
            loadStateFromStorage();
            
            // About modal handling
            const aboutBtn = document.getElementById('aboutBtn');
            const aboutModal = document.getElementById('aboutModal');
            const closeModal = document.getElementById('closeModal');

            aboutBtn.addEventListener('click', function(e) {
                e.preventDefault();
                aboutModal.classList.add('active');
                document.body.style.overflow = 'hidden';
            });

            closeModal.addEventListener('click', function() {
                aboutModal.classList.remove('active');
                document.body.style.overflow = '';
            });

            aboutModal.addEventListener('click', function(e) {
                if (e.target === aboutModal) {
                    aboutModal.classList.remove('active');
                    document.body.style.overflow = '';
                }
            });

            // Escape key to close modal
            document.addEventListener('keydown', function(e) {
                if (e.key === 'Escape' && aboutModal.classList.contains('active')) {
                    aboutModal.classList.remove('active');
                    document.body.style.overflow = '';
                }
            });

            // Reset button functionality
            const resetBtn = document.getElementById('resetBtn');
            if (resetBtn) {
                resetBtn.addEventListener('click', function() {
                    resetToDefaults();
                });
            }

            // Config type toggle
            document.querySelectorAll('.config-type-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    document.querySelectorAll('.config-type-btn').forEach(b => b.classList.remove('active'));
                    this.classList.add('active');
                    
                    state.configType = this.dataset.type;
                    saveStateToStorage();
                    
                    document.querySelectorAll('.config-fields').forEach(f => f.classList.remove('active'));
                    if (state.configType === 'stdio') {
                        elements.stdioFields.classList.add('active');
                    } else if (state.configType === 'http') {
                        elements.httpFields.classList.add('active');
                    } else if (state.configType === 'sse') {
                        elements.sseFields.classList.add('active');
                    }
                    
                    updateConfig();
                    updateOutput();
                });
            });

            // Command type toggle
            document.querySelectorAll('.command-type-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    document.querySelectorAll('.command-type-btn').forEach(b => b.classList.remove('active'));
                    this.classList.add('active');
                    
                    const commandType = this.dataset.command;
                    const commandInput = elements.command;
                    const argsInput = elements.args;
                    
                    if (commandType === 'custom') {
                        commandInput.classList.add('active');
                        commandInput.value = '';
                        commandInput.placeholder = 'Enter custom command';
                        if (!argsInput.value.trim()) {
                            argsInput.placeholder = 'Enter arguments\none per line';
                        }
                    } else {
                        commandInput.classList.remove('active');
                        commandInput.value = commandType;
                        
                        // Update args placeholder with relevant examples if args is empty
                        if (!argsInput.value.trim()) {
                            let placeholderText = '';
                            switch (commandType) {
                                case 'npx':
                                    placeholderText = '-y\n@npm/package';
                                    break;
                                case 'node':
                                    placeholderText = 'server.js';
                                    break;
                                case 'uv':
                                    placeholderText = '--directory\n/ABSOLUTE/PATH/TO/PARENT/FOLDER/weather\nrun\nweather.py';
                                    break;
                                case 'python':
                                    placeholderText = 'mcp_server.py';
                                    break;
                                case 'cmd':
                                    placeholderText = '/c\nmcp-server.bat';
                                    break;
                                case 'dotnet':
                                    placeholderText = 'run\n--project\n<RELATIVE PATH TO PROJECT DIRECTORY>';
                                    break;
                                case 'docker':
                                    placeholderText = 'run\n--rm\n-it\nmcp-server-image';
                                    break;
                                default:
                                    placeholderText = 'Enter arguments\none per line';
                            }
                            argsInput.placeholder = placeholderText;
                        }
                    }
                    
                    updateConfig();
                    saveStateToStorage();
                    updateOutput();
                });
            });

            // Style toggle
            document.querySelectorAll('.style-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    document.querySelectorAll('.style-btn').forEach(b => b.classList.remove('active'));
                    this.classList.add('active');
                    
                    state.badgeStyle = this.dataset.style;
                    saveStateToStorage();
                    updateOutput();
                });
            });

            // Output format toggle
            document.querySelectorAll('.output-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    if (this.dataset.format) {
                        // This is a format toggle (markdown/html)
                        document.querySelectorAll('.output-btn[data-format]').forEach(b => b.classList.remove('active'));
                        this.classList.add('active');
                        state.outputFormat = this.dataset.format;
                        saveStateToStorage();
                        updateOutput();
                    }
                });
            });

            // Version tab toggle
            document.querySelectorAll('.version-tab').forEach(btn => {
                btn.addEventListener('click', function() {
                    document.querySelectorAll('.version-tab').forEach(b => b.classList.remove('active'));
                    this.classList.add('active');
                    state.outputVersion = this.dataset.version;
                    saveStateToStorage();
                    updateOutput();
                });
            });

            // Version selector dropdown
            const versionSelect = document.getElementById('versionSelect');
            if (versionSelect) {
                versionSelect.addEventListener('change', function() {
                    state.outputVersion = this.value;
                    saveStateToStorage();
                    updateOutput();
                });
            }

            // Input field listeners
            elements.mcpName.addEventListener('input', function() {
                state.mcpName = this.value;
                saveStateToStorage();
                updateConfig();
                updateOutput();
            });

            elements.configText.addEventListener('input', function() {
                try {
                    const parsed = JSON.parse(this.value);
                    state.config = parsed;
                    saveStateToStorage();
                    updateFormFromConfig();
                    updateOutput();
                } catch (e) {
                    // Invalid JSON, keep previous config
                }
            });

            elements.configText.addEventListener('blur', function() {
                formatJSON();
            });

            elements.badgeText.addEventListener('input', function() {
                state.badgeText = this.value;
                saveStateToStorage();
                updateOutput();
            });

            elements.badgeColor.addEventListener('input', function() {
                state.badgeColor = this.value;
                saveStateToStorage();
                updateOutput();
            });

            elements.badgeColor.addEventListener('change', function() {
                state.badgeColor = this.value;
                saveStateToStorage();
                updateOutput();
            });

            elements.insidersBadgeColor.addEventListener('input', function() {
                state.insidersBadgeColor = this.value;
                saveStateToStorage();
                updateOutput();
            });

            elements.insidersBadgeColor.addEventListener('change', function() {
                state.insidersBadgeColor = this.value;
                saveStateToStorage();
                updateOutput();
            });

            // Enhanced config field listeners
            [elements.command, elements.args, elements.env, elements.url, elements.headers, elements.sseUrl, elements.sseHeaders].forEach(el => {
                if (el) {
                    el.addEventListener('input', function() {
                        updateConfig();
                        saveStateToStorage();
                        updateOutput();
                    });
                }
            });

            // Copy button
            elements.copyBtn.addEventListener('click', function() {
                const textToCopy = elements.generatedCode.dataset.plainText || elements.generatedCode.textContent;
                navigator.clipboard.writeText(textToCopy).then(() => {
                    this.textContent = 'Copied!';
                    this.classList.add('copied');
                    setTimeout(() => {
                        this.textContent = 'Copy to Clipboard';
                        this.classList.remove('copied');
                    }, 2000);
                });
            });

            // Initialize form from saved state or defaults
            updateFormFromState();
            updateOutput();
            formatJSON(); // Format the initial JSON

            // Initialize command input with current state value
            elements.command.value = state.command;
            
            // Initialize args placeholder based on current command
            if (!elements.args.value.trim()) {
                elements.args.placeholder = '-y\n@microsoft/mcp-server-playwright';
            }
        });

        function updateFormFromConfig() {
            // state.config is now a single configuration object with name property
            const config = state.config;
            if (!config || !config.name) return;
            
            // Update MCP name
            state.mcpName = config.name;
            elements.mcpName.value = config.name;
            
            // Update config type and show appropriate fields
            if (config.type) {
                state.configType = config.type;
                
                // Update active config type button
                document.querySelectorAll('.config-type-btn').forEach(btn => {
                    btn.classList.remove('active');
                    if (btn.dataset.type === config.type) {
                        btn.classList.add('active');
                    }
                });
                
                // Show appropriate config fields
                document.querySelectorAll('.config-fields').forEach(f => f.classList.remove('active'));
                
                if (config.type === 'stdio') {
                    elements.stdioFields.classList.add('active');
                    
                    // Update stdio fields
                    const commandValue = config.command || state.command;
                    elements.command.value = commandValue;
                    elements.args.value = config.args ? config.args.join('\n') : '';
                    elements.env.value = config.env ? JSON.stringify(config.env, null, 2) : '';
                    
                    // Update command type buttons
                    document.querySelectorAll('.command-type-btn').forEach(btn => {
                        btn.classList.remove('active');
                        if (btn.dataset.command === commandValue) {
                            btn.classList.add('active');
                            elements.command.classList.remove('active');
                        } else if (btn.dataset.command === 'custom' && !['npx', 'node', 'uv', 'python', 'cmd', 'dotnet', 'docker'].includes(commandValue)) {
                            btn.classList.add('active');
                            elements.command.classList.add('active');
                        }
                    });
                    
                } else if (config.type === 'http') {
                    elements.httpFields.classList.add('active');
                    
                    // Update http fields
                    elements.url.value = config.url || '';
                    elements.headers.value = config.headers ? JSON.stringify(config.headers, null, 2) : '';
                    
                } else if (config.type === 'sse') {
                    elements.sseFields.classList.add('active');
                    
                    // Update sse fields
                    elements.sseUrl.value = config.url || '';
                    elements.sseHeaders.value = config.headers ? JSON.stringify(config.headers, null, 2) : '';
                }
            }
        }

        function updateConfig() {
            if (state.configType === 'stdio') {
                const config = { 
                    name: state.mcpName,
                    type: 'stdio' 
                };
                
                if (elements.command.value) config.command = elements.command.value;
                if (elements.args.value) {
                    config.args = elements.args.value.split('\n').map(arg => arg.trim()).filter(arg => arg);
                }
                if (elements.env.value) {
                    try {
                        config.env = JSON.parse(elements.env.value);
                    } catch (e) {
                        // Invalid JSON, skip env
                    }
                }
                
                state.config = config;
            } else if (state.configType === 'http') {
                const config = { 
                    name: state.mcpName,
                    type: 'http' 
                };
                
                if (elements.url.value) config.url = elements.url.value;
                if (elements.headers.value) {
                    try {
                        config.headers = JSON.parse(elements.headers.value);
                    } catch (e) {
                        // Invalid JSON, skip headers
                    }
                }
                
                state.config = config;
            } else if (state.configType === 'sse') {
                const config = { 
                    name: state.mcpName,
                    type: 'sse' 
                };
                
                if (elements.sseUrl.value) config.url = elements.sseUrl.value;
                if (elements.sseHeaders.value) {
                    try {
                        config.headers = JSON.parse(elements.sseHeaders.value);
                    } catch (e) {
                        // Invalid JSON, skip headers
                    }
                }
                
                state.config = config;
            }
            
            // Update the JSON textarea with the new config
            elements.configText.value = JSON.stringify(state.config, null, 2);
        }

        function formatJSON() {
            const textarea = elements.configText;
            if (textarea) {
                try {
                    const parsed = JSON.parse(textarea.value);
                    const formatted = JSON.stringify(parsed, null, 2);
                    textarea.value = formatted;
                } catch (e) {
                    // If JSON is invalid, don't format
                }
            }
        }

        function generateInstallUrl() {
            // state.config already contains the full configuration structure
            console.log('Generating install URL with config:', state.config);
            return `vscode:mcp/install?${encodeURIComponent(JSON.stringify(state.config))}`;
        }

        function generateInsidersInstallUrl() {
            // VS Code Insiders version
            console.log('Generating VS Code Insiders install URL with config:', state.config);
            return `vscode-insiders:mcp/install?${encodeURIComponent(JSON.stringify(state.config))}`;
        }

        function generateBadgeUrl() {
            const text = state.badgeText.replace(/ /g, '_').replace(/-/g, '--');
            const color = state.badgeColor.replace('#', '');
            
            // Ensure we have valid 6-character hex color
            const validColor = color.length === 6 ? color : '0098FF';
            
            return `https://img.shields.io/badge/VS_Code-${encodeURIComponent(text)}-${validColor}?style=${state.badgeStyle}&logo=visualstudiocode&logoColor=ffffff`;
        }

        function generateInsidersBadgeUrl() {
            const text = state.badgeText.replace(/ /g, '_').replace(/-/g, '--');
            const color = state.insidersBadgeColor.replace('#', '');
            
            // Ensure we have valid 6-character hex color
            const validColor = color.length === 6 ? color : '24bfa5';
            
            return `https://img.shields.io/badge/VS_Code_Insiders-${encodeURIComponent(text)}-${validColor}?style=${state.badgeStyle}&logo=visualstudiocode&logoColor=ffffff`;
        }

        function highlightURL(url) {
            // Split URL into base and parameters
            const urlParts = url.split('?');
            if (urlParts.length === 1) {
                // No parameters, just return the base URL
                return `<span class="syntax-url-base">${url}</span>`;
            }
            
            const baseUrl = urlParts[0];
            const paramString = urlParts[1];
            
            let highlightedUrl = `<span class="syntax-url-base">${baseUrl}</span><span class="syntax-url-separator">?</span>`;
            
            // Highlight each parameter
            const params = paramString.split('&amp;');
            for (let i = 0; i < params.length; i++) {
                if (i > 0) {
                    highlightedUrl += '<span class="syntax-url-separator">&amp;</span>';
                }
                
                const param = params[i];
                const equalIndex = param.indexOf('=');
                if (equalIndex !== -1) {
                    const paramName = param.substring(0, equalIndex);
                    const paramValue = param.substring(equalIndex + 1);
                    highlightedUrl += `<span class="syntax-url-param-name">${paramName}</span><span class="syntax-url-separator">=</span><span class="syntax-url-param-value">${paramValue}</span>`;
                } else {
                    highlightedUrl += `<span class="syntax-url-param-name">${param}</span>`;
                }
            }
            
            return highlightedUrl;
        }

        function highlightMarkdown(code) {
            // Escape HTML entities first
            const escaped = code.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;');
            
            // Highlight markdown link syntax: [![text](url)](link)
            return escaped.replace(
                /(\[!)(\[.*?\])(\()([^)]+)(\))(\])(\()([^)]+)(\))/g,
                function(match, p1, p2, p3, imageUrl, p5, p6, p7, linkUrl, p9) {
                    const highlightedImageUrl = highlightURL(imageUrl);
                    const highlightedLinkUrl = highlightURL(linkUrl);
                    return `<span class="syntax-markdown-link">${p1}</span><span class="syntax-markdown-text">${p2}</span><span class="syntax-markdown-link">${p3}</span>${highlightedImageUrl}<span class="syntax-markdown-link">${p5}${p6}${p7}</span>${highlightedLinkUrl}<span class="syntax-markdown-link">${p9}</span>`;
                }
            );
        }

        function highlightHTML(code) {
            // Escape HTML entities first
            let escaped = code.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;');
            
            // Highlight HTML tags, attributes, and values
            escaped = escaped.replace(
                /(&lt;\/?)([a-zA-Z][a-zA-Z0-9]*)(.*?)(&gt;)/g,
                function(match, openTag, tagName, attributes, closeTag) {
                    // Highlight attributes within the tag
                    const highlightedAttributes = attributes.replace(
                        /(\s+)([a-zA-Z-]+)(=)(&quot;)([^&]*?)(&quot;|&#x27;[^&#]*&#x27;)/g,
                        function(attrMatch, space, attrName, equals, openQuote, attrValue, closeQuote) {
                            // Check if this is a URL attribute (href, src)
                            if (attrName === 'href' || attrName === 'src') {
                                const highlightedUrl = highlightURL(attrValue);
                                return `${space}<span class="syntax-html-attr">${attrName}</span>${equals}<span class="syntax-html-value">${openQuote}${highlightedUrl}${closeQuote}</span>`;
                            } else {
                                return `${space}<span class="syntax-html-attr">${attrName}</span>${equals}<span class="syntax-html-value">${openQuote}${attrValue}${closeQuote}</span>`;
                            }
                        }
                    );
                    
                    return `<span class="syntax-html-tag">${openTag}${tagName}</span>${highlightedAttributes}<span class="syntax-html-tag">${closeTag}</span>`;
                }
            );
            
            return escaped;
        }

        function updateOutput() {
            const installUrl = generateInstallUrl();
            const badgeUrl = generateBadgeUrl();
            const insidersInstallUrl = generateInsidersInstallUrl();
            const insidersBadgeUrl = generateInsidersBadgeUrl();

            // Update preview element with both VS Code and VS Code Insiders
            const previewHTML = `
                <div class="badge-section">
                    <h4 class="badge-title">VS Code</h4>
                    <div class="badge-container">
                        <a href="${installUrl}" target="_blank"><img src="${badgeUrl}" alt="Install in VS Code"></a>
                    </div>
                </div>
                <div class="badge-section">
                    <h4 class="badge-title">VS Code Insiders</h4>
                    <div class="badge-container">
                        <a href="${insidersInstallUrl}" target="_blank"><img src="${insidersBadgeUrl}" alt="Install in VS Code Insiders"></a>
                    </div>
                </div>
            `;
            elements.badgePreview.innerHTML = previewHTML;

            // Generate code based on selected version and format
            let code;
            let highlightedCode;
            
            if (state.outputVersion === 'vscode') {
                // VS Code version
                if (state.outputFormat === 'markdown') {
                    code = `[![Install in VS Code](${badgeUrl})](${installUrl})`;
                    highlightedCode = highlightMarkdown(code);
                } else {
                    code = `<a href="${installUrl}"><img src="${badgeUrl}" alt="Install in VS Code"></a>`;
                    highlightedCode = highlightHTML(code);
                }
            } else {
                // VS Code Insiders version
                if (state.outputFormat === 'markdown') {
                    code = `[![Install in VS Code Insiders](${insidersBadgeUrl})](${insidersInstallUrl})`;
                    highlightedCode = highlightMarkdown(code);
                } else {
                    code = `<a href="${insidersInstallUrl}"><img src="${insidersBadgeUrl}" alt="Install in VS Code Insiders"></a>`;
                    highlightedCode = highlightHTML(code);
                }
            }

            // Store the plain text for copying
            elements.generatedCode.dataset.plainText = code;
            // Display the highlighted version
            elements.generatedCode.innerHTML = highlightedCode;
        }
    </script>
</body>
</html>
